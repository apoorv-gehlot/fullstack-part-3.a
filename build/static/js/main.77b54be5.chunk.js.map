{"version":3,"sources":["components/PersonDetails.js","components/Persons.js","components/PersonForm.js","components/Notification.js","components/SearchFilter.js","services/persons.js","App.js","index.js"],"names":["PersonDetails","person","deletePerson","name","number","onClick","id","Persons","persons","searchByName","filter","toLowerCase","search","filterByName","map","PersonForm","newPerson","addPerson","handleAddName","handleAddNumber","onSubmit","value","onChange","type","Notification","notification","className","message","SearchFilter","handleNameFilter","base_url","axios","get","then","response","data","catch","error","newObject","post","console","log","status","headers","request","delete","put","App","useState","setPersons","setNewPerson","setSearchByName","setNotification","useEffect","personService","notify","setTimeout","event","preventDefault","target","existing","find","p","window","confirm","responsePerson","newlyAdded","concat","personObject","personToDelete","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.77b54be5.chunk.js","sourcesContent":["const PersonDetails = ({ person, deletePerson }) => <p>{person.name} {person.number} <button onClick={() => deletePerson(person.id)}>delete</button></p>\r\n\r\nexport default PersonDetails","import PersonDetails from \"./PersonDetails\"\r\n\r\nconst filterByName = (person, searchByName) => {\r\n    if (!searchByName)\r\n        return true\r\n\r\n    return (person.name.toLowerCase().search(searchByName.toLowerCase()) > -1)\r\n}\r\n\r\nconst Persons = ({ persons, searchByName, deletePerson }) => {\r\n    return (\r\n        <div>\r\n            {\r\n                persons\r\n                    .filter(person => filterByName(person, searchByName))\r\n                    .map(person => <PersonDetails key={!person.id ? person.name:person.id} person={person} deletePerson={deletePerson} />)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","const PersonForm = ({ newPerson, addPerson, handleAddName, handleAddNumber }) => {\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n            <div>\r\n                <p>\r\n                    name:\r\n                    <input value={newPerson.name}\r\n                        onChange={handleAddName} />\r\n                </p>\r\n\r\n                <p>\r\n                    number:\r\n                    <input value={newPerson.number} onChange={handleAddNumber} />\r\n                </p>\r\n\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm;","import React from \"react\";\r\n\r\nconst Notification = ({notification}) => {\r\n    if(notification === null)\r\n        return null\r\n\r\n    return(\r\n        <div className={notification.type}>\r\n            {notification.message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","const SearchFilter = ({ searchByName, handleNameFilter }) => <p>filter shown with <input value={searchByName} onChange={handleNameFilter} /></p>\r\n\r\nexport default SearchFilter;","import axios from 'axios'\r\n\r\nconst base_url = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(base_url)\r\n    return request.then(response => response.data).catch(error => error.response)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(base_url, newObject)\r\n    return request.then(response => response.data).catch(error => {\r\n        if (error.response) {\r\n            // Request made and server responded\r\n            console.log(error.response.data);\r\n            console.log(error.response.status);\r\n            console.log(error.response.headers);\r\n\r\n            return error.response.data.error\r\n        } else if (error.request) {\r\n            // The request was made but no response was received\r\n            console.log(error.request);\r\n        } else {\r\n            // Something happened in setting up the request that triggered an Error\r\n            console.log('Error', error.message);\r\n        }\r\n    })\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${base_url}/${id}`)\r\n    return request.then(response => response.data).catch(error => error.response)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${base_url}/${id}`, newObject)\r\n    return request.then(response => response.data).catch(error => error.response)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport SearchFilter from './components/SearchFilter'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newPerson, setNewPerson] = useState({\n    name: '',\n    number: ''\n  })\n  const [searchByName, setSearchByName] = useState('')\n  const [notification, setNotification] = useState(null)\n\n  useEffect(() => {\n    personService.getAll()\n      .then(data => {\n        console.log(data)\n        setPersons(data)\n      }).catch(error => notify(error, 'error'))\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const existing = persons.find(p => p.name === newPerson.name)\n\n    if (existing) {\n      const confirmation = window.confirm(`${existing.name} already in phonebook, replace the old number with new one?`)\n      if (confirmation) {\n        personService.update(existing.id, { ...existing, number: newPerson.number })\n          .then(responsePerson => {\n            setPersons(persons.map(p => p.id !== existing.id ? p : responsePerson))\n            setNewPerson({\n              name: '',\n              number: ''\n            })\n            notify('Person number updated successfully!', 'success')\n          }).catch((error) => {\n            console.log('Error while updating number')\n            notify(error, 'error')\n          })\n      }\n    } else {\n      personService.create({ ...newPerson })\n        .then(newlyAdded => {\n          setPersons(persons.concat(newlyAdded))\n          setNewPerson({\n            name: '',\n            number: ''\n          })\n          notify('Person added successfully!', 'success')\n        }).catch((error) => {\n          console.log('Error while saving new person')\n          console.log(error.data)\n          notify(error.data.error, 'error')\n        })\n    }\n  }\n\n  const deletePerson = (id) => {\n    const personToDelete = persons.find(p => p.id === id)\n    const confirmation = window.confirm(`Delete ${personToDelete.name}`)\n\n    if (confirmation) {\n      personService.remove(id)\n        .then(response => {\n          setPersons(persons.filter(p => p.id !== id))\n          notify('Person deleted successfully!', 'success')\n        }).catch((error) => {\n          setPersons(persons.filter(p => p.id !== id))\n          console.log('Error while deleting person')\n          notify(error, 'error')\n        })\n    }\n  }\n\n  const notify = (message, type = 'success') => {\n    setNotification({ message, type })\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n  }\n\n  const handleAddName = (event) => {\n    event.preventDefault()\n\n    let personObject = {}\n    personObject.name = event.target.value\n    personObject.number = newPerson.number\n\n    setNewPerson(personObject)\n  }\n\n  const handleAddNumber = (event) => {\n    event.preventDefault()\n    let personObject = {}\n    personObject.name = newPerson.name\n    personObject.number = event.target.value\n\n    setNewPerson(personObject)\n  }\n\n  const handleNameFilter = (event) => {\n    event.preventDefault()\n    setSearchByName(event.target.value)\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <SearchFilter searchByName={searchByName} handleNameFilter={handleNameFilter} />\n\n      <Notification notification={notification} />\n\n      <h2>Add a new</h2>\n      <PersonForm newPerson={newPerson} addPerson={addPerson} handleAddName={handleAddName} handleAddNumber={handleAddNumber} />\n\n      <h2>Numbers</h2>\n      <Persons persons={persons} searchByName={searchByName} deletePerson={deletePerson} />\n\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}