{"version":3,"sources":["components/PersonDetails.js","components/Persons.js","components/PersonForm.js","components/Notification.js","components/SearchFilter.js","services/persons.js","App.js","index.js"],"names":["PersonDetails","person","deletePerson","name","number","onClick","id","Persons","persons","searchByName","filter","toLowerCase","search","filterByName","map","PersonForm","newPerson","addPerson","handleAddName","handleAddNumber","onSubmit","value","onChange","type","Notification","notification","className","message","SearchFilter","handleNameFilter","base_url","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","setNewPerson","setSearchByName","setNotification","useEffect","personService","console","log","notify","setTimeout","event","preventDefault","target","existing","find","p","window","confirm","responsePerson","catch","newlyAdded","concat","personObject","personToDelete","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c8b38125.chunk.js","sourcesContent":["const PersonDetails = ({ person, deletePerson }) => <p>{person.name} {person.number} <button onClick={() => deletePerson(person.id)}>delete</button></p>\r\n\r\nexport default PersonDetails","import PersonDetails from \"./PersonDetails\"\r\n\r\nconst filterByName = (person, searchByName) => {\r\n    if (!searchByName)\r\n        return true\r\n\r\n    return (person.name.toLowerCase().search(searchByName.toLowerCase()) > -1)\r\n}\r\n\r\nconst Persons = ({ persons, searchByName, deletePerson }) => {\r\n    return (\r\n        <div>\r\n            {\r\n                persons\r\n                    .filter(person => filterByName(person, searchByName))\r\n                    .map(person => <PersonDetails key={!person.id ? person.name:person.id} person={person} deletePerson={deletePerson} />)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","const PersonForm = ({ newPerson, addPerson, handleAddName, handleAddNumber }) => {\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n            <div>\r\n                <p>\r\n                    name:\r\n                    <input value={newPerson.name}\r\n                        onChange={handleAddName} />\r\n                </p>\r\n\r\n                <p>\r\n                    number:\r\n                    <input value={newPerson.number} onChange={handleAddNumber} />\r\n                </p>\r\n\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm;","import React from \"react\";\r\n\r\nconst Notification = ({notification}) => {\r\n    if(notification === null)\r\n        return null\r\n\r\n    return(\r\n        <div className={notification.type}>\r\n            {notification.message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","const SearchFilter = ({ searchByName, handleNameFilter }) => <p>filter shown with <input value={searchByName} onChange={handleNameFilter} /></p>\r\n\r\nexport default SearchFilter;","import axios from 'axios'\r\n\r\nconst base_url = 'https://nameless-coast-92514.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(base_url)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(base_url, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${base_url}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${base_url}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport SearchFilter from './components/SearchFilter'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newPerson, setNewPerson] = useState({\n    name: '',\n    number: ''\n  })\n  const [searchByName, setSearchByName] = useState('')\n  const [notification, setNotification] = useState(null)\n\n  useEffect(() => {\n    personService.getAll()\n      .then(data => {\n        console.log(data)\n        setPersons(data)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const existing = persons.find(p => p.name === newPerson.name)\n\n    if (existing) {\n      const confirmation = window.confirm(`${existing.name} already in phonebook, replace the old number with new one?`)\n      if (confirmation) {\n        personService.update(existing.id, { ...existing, number: newPerson.number }).\n          then(responsePerson => {\n            setPersons(persons.map(p => p.id !== existing.id ? p : responsePerson))\n            setNewPerson({\n              name: '',\n              number: ''\n            })\n            notify('Person number updated successfully!', 'success')\n          }).catch(() => {\n            console.log('Error while updating number')\n            notify('Error while updating number', 'error')\n          })\n      }\n    } else {\n      personService.create({...newPerson}).\n        then(newlyAdded => {\n          setPersons(persons.concat(newlyAdded))\n          setNewPerson({\n            name: '',\n            number: ''\n          })\n          notify('Person added successfully!', 'success')\n        }).catch(() => {\n          console.log('Error while saving new person')\n          notify('Error while saving new person', 'error')\n        })\n    }\n  }\n\n  const deletePerson = (id) => {\n    const personToDelete = persons.find(p => p.id === id)\n    const confirmation = window.confirm(`Delete ${personToDelete.name}`)\n\n    if (confirmation) {\n      personService.remove(id)\n        .then(response => {\n          setPersons(persons.filter(p => p.id !== id))\n          notify('Person deleted successfully!', 'success')\n        }).catch(() => {\n          setPersons(persons.filter(p => p.id !== id))\n          console.log('Error while deleting person')\n          notify('Error while deleting person', 'error')\n        })\n    }\n  }\n\n  const notify = (message, type='success') => {\n    setNotification({message, type})\n    setTimeout(() =>{\n      setNotification(null)\n    }, 5000)\n  }\n\n  const handleAddName = (event) => {\n    event.preventDefault()\n\n    let personObject = {}\n    personObject.name = event.target.value\n    personObject.number = newPerson.number\n\n    setNewPerson(personObject)\n  }\n\n  const handleAddNumber = (event) => {\n    event.preventDefault()\n    let personObject = {}\n    personObject.name = newPerson.name\n    personObject.number = event.target.value\n\n    setNewPerson(personObject)\n  }\n\n  const handleNameFilter = (event) => {\n    event.preventDefault()\n    setSearchByName(event.target.value)\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <SearchFilter searchByName={searchByName} handleNameFilter={handleNameFilter} />\n\n      <Notification notification={notification}/>\n\n      <h2>Add a new</h2>\n      <PersonForm newPerson={newPerson} addPerson={addPerson} handleAddName={handleAddName} handleAddNumber={handleAddNumber} />\n\n      <h2>Numbers</h2>\n      <Persons persons={persons} searchByName={searchByName} deletePerson={deletePerson} />\n\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}